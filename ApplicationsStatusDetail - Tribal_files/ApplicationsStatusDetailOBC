function SessionRefresh(n,t){var i={id:n};AccessControler.PostIsActive(i,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefresh",function(n){n!=null&&n.status==!0?window.location.href=t:console.log("Exception Occured")})}function GetApplicationStatus(n){var t={ApplicationDetailId:n};AccessControler.PostIsActive(t,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/GetScholarshipApplicationStatus",function(n){if(n!=null&&n.Data!=null){var t=n.Data.Status;t=="P"||t=="E"||t=="V"||t=="A"?($(txtPendingApplicationId).val(n.Data.ApplicationNumber),$(txtIncomeStatus).val(n.Data.IncomeCertificateStatus),$(applicationPendingModel).modal("show")):(t=="X"||t=="N")&&($(txtApplicationId).val(n.Data.ApplicationNumber),$(txtIncomeCertificateStatus).val(n.Data.IncomeCertificateStatus),$(txtIncomeClarificationType).val(n.Data.IncomeClarificationType),$(txtIncomeClarificationRemark).val(n.Data.IncomeClarificationRemark),$("#lblHelpDeskText").html("Please Contact on Help Desk for further Process."),$("#btnHelpDesk").css("visibility","visible"),$(applicationStatusModel).modal("show"));t=="R"&&(window.location.href="../../PMSOBC/ScholarshipOBC/UploadDocument")}})}function applicationListResult(){$.fn.DataTable.isDataTable(tblApplicationList)?applicationList_table.draw():applicationList_table=$(tblApplicationList).DataTable({serverSide:!0,language:{emptyTable:Grid.emptyTable},sDom:Grid.sDom,pageLength:pageSize,length:pageSize,iDisplayLength:pageSize,bDestroy:!0,bSortable:!0,info:!1,searching:!1,paging:!0,ajax:{type:"Post",contentType:"application/json",url:$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/GetApplicationList",data:function(n){return JSON.stringify({parameters:n,profileID:$(hdnProfileId).val()})}},fnRowCallback:function(){},columns:[{title:"Application No. <span><\/span>",targets:-1,data:null,name:"ApplicationNumber",bSortable:!0,orderable:!1,sName:"ApplicationNumber",createdCell:function(n){n.setAttribute("data-title","ApplicationNumber")},render:function(n,t,i){return""+(i.Status=="P"||i.Status=="V"?i.IsSubmitted==!1?'<a class="status-lnk" href="javascript:void();" onclick="SessionRefresh(\''+i.ID+"','"+i.CurrentApplicationStatausURL+"')\"><span>"+i.ApplicationNumber+"<\/span><\/a>":i.IsCourseChange==!0?'<a class="status-lnk" href="javascript:void(0);" onclick="ChangeApplicationDetail(\''+i.ID+"')\"><span>"+i.ApplicationNumber+"<\/span><\/a>":'<a class="status-lnk" href="javascript:void(0);" onclick="ApplicationDetail(\''+i.ID+"')\"><span>"+i.ApplicationNumber+"<\/span><\/a>":i.IsCourseChange==!0?'<a class="status-lnk" href="javascript:void(0);" onclick="ChangeApplicationDetail(\''+i.ID+"')\"><span>"+i.ApplicationNumber+"<\/span><\/a>":'<a class="status-lnk" href="javascript:void(0);" onclick="ApplicationDetail(\''+i.ID+"')\"><span>"+i.ApplicationNumber+"<\/span><\/a>")}},{title:"Application Type<span><\/span>",targets:-1,data:null,name:"ApplicationType",bSortable:!0,orderable:!1,sName:"ApplicationType",createdCell:function(n){n.setAttribute("data-title","ApplicationType")},render:function(n,t,i){var r="";return i.ApplicationType=="F"?r+="Fresh":i.ApplicationType=="R"?r+="Renewal":i.ApplicationType=="I"?r+="Intermediate":i.ApplicationType=="L"&&(r+="Lateral"),r}},{title:"Apply Date <span><\/span>",targets:-1,data:null,name:"ApplyDate",bSortable:!0,orderable:!1,sName:"ApplyDate",createdCell:function(n){n.setAttribute("data-title","ApplyDate")},render:function(n,t,i){return moment(i.ApplyDate).format("DD-MMM-YYYY")}},{title:"Status <span><\/span>",targets:-1,data:null,name:"Status",bSortable:!0,orderable:!1,sName:"Status",createdCell:function(n){n.setAttribute("data-title","Status")},render:function(n,t,i){var r="";return i.Status=="P"?r+=i.IsSubmitted==!1?"In-Complete":"Pending for Verfication":i.Status=="R"?r+='<a class="status-lnk" href="javascript:void();" onclick="GetApplicationStatus(\''+i.ID+"')\"><span> Clarification Required <\/span><\/a>":i.Status=="E"?r+="Clarification Sent":i.Status=="X"?r+='<a class="status-lnk" href="javascript:void();" onclick="GetApplicationStatus(\''+i.ID+"')\"><span> Not Verified <\/span><\/a>":i.Status=="V"?r+="Verified":i.Status=="N"?r+="Temporary Rejected":i.Status=="A"?r+="Approved":i.Status=="C"?r+="Change Scholarship":i.Status=="D"&&(r+="Permanent Rejected"),r}},{title:"Operations",targets:-1,data:null,name:"Action",bSortable:!1,orderable:!1,sName:"Action",createdCell:function(n){n.setAttribute("data-title","Action")},render:function(n,t,i){var r="";return i.Status=="X"?r+='<a class="status-lnk" href="javascript:void();" onclick="showNotVerified(\''+i.ID+"','"+i.Status+"')\"><span>Apply Scholarship Benefit<\/span><\/a>":i.Status=="N"||i.Status=="D"||(r+=i.AcademicYear=="2020-21"?"<label style=font-size:12px;><i>Scholarship Benefit is not applicable for Covid Year<\/i><\/label>":i.Cast=="SC"?"<span>N/A<\/span>":i.IsChangeScholarship==!1?i.IsSubmitted==!0&&i.IsPrevApprovedBenefit==!1?'<a class="status-lnk" href="javascript:void();" onclick="SessionRefreshForBenefitApplicaton(\''+i.ID+"','"+i.IsGovernment+"','"+i.AnnualfamilyIncomeId+"')\"><span>Apply Scholarship Benefit<\/span><\/a>":'<div title="">Apply Scholarship Benefit<\/div>':'<div title="">Apply Scholarship Benefit<\/div>'),r}},{title:"Payment Status <span><\/span>",targets:-1,data:null,name:"PaymentStatus",bSortable:!0,orderable:!1,sName:"PaymentStatus",createdCell:function(n){n.setAttribute("data-title","PaymentStatus")},render:function(n,t,i){return i.PaymentStatus}},{title:"Paid Date<span><\/span>",targets:-1,data:null,name:"TransactionDate",bSortable:!0,orderable:!1,sName:"PaidDate",createdCell:function(n){n.setAttribute("data-title","PaidDate")},render:function(n,t,i){return i.PaidDate}},{title:"Bank Name<span><\/span>",targets:-1,data:null,name:"BankName",bSortable:!0,orderable:!1,sName:"BankName",createdCell:function(n){n.setAttribute("data-title","BankName")},render:function(n,t,i){return i.BankName}},{title:"NPCI Status",targets:-1,data:null,name:"CurrentIncome",bSortable:!0,orderable:!1,sName:"CurrentIncome",createdCell:function(n){n.setAttribute("data-title","CurrentIncome")},render:function(n,t,i){return i.CurrentIncome}},{title:"Installment Type",targets:-1,data:null,name:"BankName",bSortable:!0,orderable:!1,sName:"EntitlementTypeID",createdCell:function(n){n.setAttribute("data-title","EntitlementTypeID")},render:function(n,t,i){return i.EntitlementTypeID}},{title:"Amount",targets:-1,data:null,name:"BankName",bSortable:!0,orderable:!1,sName:"AcadmicFee",createdCell:function(n){n.setAttribute("data-title","AcadmicFee")},render:function(n,t,i){return i.AcadmicFee}},{title:"Action",targets:-1,data:null,name:"Action",bSortable:!1,orderable:!1,sName:"Action",createdCell:function(n){n.setAttribute("data-title","Action")},render:function(n,t,i){var r="";return i.IsSubmitted==!0?(i.Status=="N"||i.Status=="D"||(r+=i.IsCourseChange==!0?'<a class="btn btn-success btn-xs" style="margin-right:5px;" href="javascript:void(0);" onclick="RedirectToChangeScholarshipPreview(\''+i.ID+"','"+i.ApplicationType+"')\">Print Application<\/a>":'<a class="btn btn-success btn-xs" style="margin-right:5px;" href="javascript:void(0);" onclick="RedirectToPreview(\''+i.ID+"','"+i.ApplicationType+"')\">Print Application<\/a>"),i.Cast=="SC"&&(r+='<a class="btn btn-success btn-xs" style="margin-right:5px;margin-top:2px;" href="javascript:void(0);" onclick="GetFreeshipCard(\''+i.ID+"','"+i.ApplicationType+"')\">Download Freeship Card<\/a>")):r+='<label style="margin-right:5px;" title="Application Submission Pending">Print Application<\/label>',i.ApplicationType=="F"&&i.Status!="A"&&i.Status!="N"&&i.Status!="D"?i.IsChangeScholarship==!1&&i.IsCourseChange==!1?r+='<a class="btn btn-danger btn-xs" href="javascript:void();" style="margin-top:2px;" onclick="CancelApplication(\''+i.ID+"')\"><span>Cancel Application<\/span><\/a>":i.IsChangeScholarship==!0&&(r+='<label style="margin-right:5px;" title="">Discarded<\/label>'):i.Status=="C"&&(r+='<label style="margin-right:5px;" title="">Discarded<\/label>'),r}},]})}function applyScholarshipBenefit(n){window.location.href=$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ScholarshipBenefitDetail?ID="+n}function SessionRefreshForBenefitApplicaton(n,t,i){var r={id:n};t=="false"&&parseInt(i)>11?alert("You are not Eligible For Scholarship Benefit Due to Current Income Range for Private Institue."):AccessControler.PostIsActive(r,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForBeneiftApplication",function(n){n!=null&&n.status==!0?window.location.href="../../PMSOBC/ScholarshipOBC/ScholarshipBenefitDetail":console.log("Exception Occured")})}function showNotVerified(){$(SystemLanguage).val()=="H"?showMPTAASAlert("divAlterForMPTAAS",!0,"आप स्कॉलरशिप बेनिफिट आवेदन को अपडेट नहीं कर सकते क्योंकि आपका स्कॉलरशिप आवेदन अस्वीकार कर दिया गया है",5e3):showMPTAASAlert("divAlterForMPTAAS",!0,"You can not apply for scholarship benefit as your scholarship application has been rejected",5e3)}function RedirectToPreview(n,t){var i={id:n};AccessControler.PostIsActive(i,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForApplicationPreview",function(n){if(n!=null&&n.status==!0)return t=="R"?window.open($("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipRenewalOBC/RenewalApplicationPrintPreview","_blank"):window.open($("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ApplicationStatus","_blank"),!1;console.log("Exception Occured")})}function RedirectToChangeScholarshipPreview(n,t){var i={id:n};AccessControler.PostIsActive(i,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForApplicationPreview",function(n){if(n!=null&&n.status==!0)return t=="R"?window.open($("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipRenewalOBC/RenewalApplicationPrintPreview","_blank"):window.open($("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ChangeCourseApplicationStatus","_blank"),!1;console.log("Exception Occured")})}function ApplicationDetail(n){var t={id:n};AccessControler.PostIsActive(t,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForApplicationPreview",function(n){if(n!=null&&n.status==!0)return window.location.href=$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ScholarshipApplicationDetailPreview",!1;console.log("Exception Occured")})}function ChangeApplicationDetail(n){var t={id:n};AccessControler.PostIsActive(t,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForApplicationPreview",function(n){if(n!=null&&n.status==!0)return window.location.href=$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ChangeScholarshipApplicationDetailPreview",!1;console.log("Exception Occured")})}function CancelApplication(n){return $("#chkCancelApp").prop("checked",!1),$("#btnYesConfirmCancelAppYesNo").attr("disabled",!0),$(hdnScholarshipDetailId).val(n),showMPTAASCancelApplicationConfirm("",""),!1}function showMPTAASCancelApplicationConfirm(n){var t=$("#modalConfirmCancelApplicationYesNo");t.modal("show");$("#lblTitleConfirmCancelAppYesNo").html(n)}function GetFreeshipCard(n){var t={id:n};AccessControler.PostIsActive(t,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/SessionRefreshForApplicationPreview",function(n){if(n!=null&&n.status==!0)return window.open($("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/ApplicationFreeshipCard","_blank"),!1;console.log("Exception Occured")})}var tblApplicationList="#tblApplicationList ",applicationList_table,grid_table,pageSize=Grid.pageLength,isPageSizeChanged=!1,hdnProfileId="#hdnProfileId",hdnScholarshipDetailId="#hdnScholarshipDetailId",hdnScholarshipApplicationId="#hdnScholarshipApplicationId",applicationStatusModel="#applicationStatusModel",txtApplicationId="#txtApplicationId",txtIncomeCertificateStatus="#txtIncomeCertificateStatus",txtIncomeClarificationType="#txtIncomeClarificationType",txtIncomeClarificationRemark="#txtIncomeClarificationRemark",applicationPendingModel="#applicationPendingModel",txtPendingApplicationId="#txtPendingApplicationId",txtIncomeStatus="#txtIncomeStatus";$(document).ready(function(){applicationListResult();$("#btnYesConfirmCancelAppYesNo").on("click",function(){if($(hdnScholarshipDetailId).val()!=""&&$(hdnScholarshipDetailId).val()!="0"){var n={ApplicationDetailId:$(hdnScholarshipDetailId).val()};AccessControler.PostIsActive(n,2e4,$("#hdnvirtualPath").val()+"/PMSOBC/ScholarshipOBC/CancelApplicationRequest",function(n){n!=null&&(n.StatusCode==200?(showMPTAASAlert("divAlterForMPTAAS",!0,n.StatusMessage,1e4),$("#modalConfirmCancelApplicationYesNo").modal("hide"),applicationListResult()):showMPTAASAlert("divAlterForMPTAAS",!1,n.StatusMessage,1e4))})}else showMPTAASAlert("divAlterForMPTAAS",!1,"Application not found",1e4)});$("#btnNoConfirmCancelAppYesNo").on("click",function(){return $("#modalConfirmCancelApplicationYesNo").modal("hide"),!1});$("#chkCancelApp").change(function(){$(this).is(":checked")?$("#btnYesConfirmCancelAppYesNo").removeAttr("disabled"):$("#btnYesConfirmCancelAppYesNo").attr("disabled",!0)})})